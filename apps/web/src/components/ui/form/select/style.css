[data-ui="select-trigger"] {
  display: flex;
  align-items: center;
  justify-content: space-between;
  isolation: isolate;
  width: inherit;
  border: 1px solid var(--color-surface-variant);
  background-color: var(--color-background);
  color: var(--color-on-surface-variant);
  font: var(--font-body-md);
  height: 36px;
  gap: var(--spacing-8);
  padding-inline: var(--spacing-10);
  border-radius: var(--radius-md);
  cursor: pointer;
  outline: 0;
  transition: var(--transition-standard-default-spatial);
  user-select: none;

  [data-ui="icon"],
  svg {
    width: 16px;
    height: 16px;
    color: var(--color-outline);
  }

  &:not([data-disabled]) {
    &[data-popup-open],
    &:focus-visible {
      box-shadow: 0 0 0 2px var(--color-primary-container);
    }

    &:hover {
      border-color: var(--color-outline);
      background-color: var(--color-surface-container-low);
    }

    &:focus-visible {
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px var(--color-primary-container);
    }
  }

  &[data-disabled] {
    background-color: var(--color-surface-container);
    color: color-mix(in srgb, var(--color-on-surface) 38%, transparent);
    pointer-events: none;
  }
}

[data-ui="select-portal"] {
  [data-ui="select-positioner"] {
    isolation: isolate;
    max-height: var(--available-height);
    width: var(--anchor-width);
    transform-origin: var(--transform-origin);

    [data-ui="select-content"] {
      border: 1px solid var(--color-surface-container-highest);
      border-radius: var(--radius-md);
      box-shadow: 0 5px 20px -10px
        color-mix(in srgb, var(--color-on-background) 8%, transparent);
      padding: var(--spacing-6);
      background-color: var(--color-surface-container-low);
      outline: 0;
      transition: var(--transition-expressive-default-spatial);

      > div,
      [data-ui="select-group"] {
        display: grid;
        gap: var(--spacing-2);
      }

      [data-ui="select-separator"] {
        height: 1px;
        margin-block: var(--spacing-4);
        margin-inline: calc(var(--spacing--6) * -1);
        background: var(--color-surface-container-highest);
      }

      [data-ui="select-label"] {
        padding-inline: var(--spacing-2);
        font: var(--font-body-sm);
        color: var(--color-on-surface-variant);
        user-select: none;
      }

      [data-ui="select-item"] {
        display: flex;
        justify-content: space-between;
        gap: var(--spacing-4);
        overflow: hidden;
        max-width: 100%;
        padding: var(--spacing-8);
        border-radius: var(--radius-sm);
        background-color: var(--color-background);
        color: var(--color-on-background);
        font: var(--font-body-md);
        cursor: pointer;
        outline: 0;
        transition: var(--transition-standard-default-spatial);
        -webkit-user-select: none;
        user-select: none;

        [data-ui="select-item-indicator"] {
          display: inline-block;
          width: var(--spacing-6);
          height: var(--spacing-6);
          background: var(--color-primary);
          clip-path: circle();
        }

        &[data-disabled] {
          pointer-events: none;
          opacity: 0.3;
          background: var(--color-surface-container-highest);
          text-decoration: line-through;
        }

        &:hover:not([data-disabled]) {
          background-color: var(--color-surface-container-high);
        }
      }

      /* Dynamic transform-origin based on side and alignment */
      /* Side: bottom */
      &[data-side="bottom"][data-align="start"] {
        transform-origin: top left;
      }
      &[data-side="bottom"][data-align="center"] {
        transform-origin: top center;
      }
      &[data-side="bottom"][data-align="end"] {
        transform-origin: top right;
      }

      /* Side: top */
      &[data-side="top"][data-align="start"] {
        transform-origin: bottom left;
      }
      &[data-side="top"][data-align="center"] {
        transform-origin: bottom center;
      }
      &[data-side="top"][data-align="end"] {
        transform-origin: bottom right;
      }

      /* Side: left */
      &[data-side="left"][data-align="start"] {
        transform-origin: right top;
      }
      &[data-side="left"][data-align="center"] {
        transform-origin: right center;
      }
      &[data-side="left"][data-align="end"] {
        transform-origin: right bottom;
      }

      /* Side: right */
      &[data-side="right"][data-align="start"] {
        transform-origin: left top;
      }
      &[data-side="right"][data-align="center"] {
        transform-origin: left center;
      }
      &[data-side="right"][data-align="end"] {
        transform-origin: left bottom;
      }

      /* Side: inline-start */
      &[data-side="inline-start"][data-align="start"] {
        transform-origin: right top;
      }
      &[data-side="inline-start"][data-align="center"] {
        transform-origin: right center;
      }
      &[data-side="inline-start"][data-align="end"] {
        transform-origin: right bottom;
      }

      /* Side: inline-end */
      &[data-side="inline-end"][data-align="start"] {
        transform-origin: left top;
      }
      &[data-side="inline-end"][data-align="center"] {
        transform-origin: left center;
      }
      &[data-side="inline-end"][data-align="end"] {
        transform-origin: left bottom;
      }

      &[data-starting-style],
      &[data-ending-style] {
        filter: blur(10px);
        scale: 0;
        opacity: 0;
        overflow-x: hidden;
        overflow-y: auto;
      }
    }
  }
}
